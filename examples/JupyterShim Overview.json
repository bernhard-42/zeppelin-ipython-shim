{"paragraphs":[{"text":"%md\n## 1 Add the project to python's search path and import JupyterShim","user":"bernhard","dateUpdated":"2017-02-22T12:22:55+0000","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true},"colWidth":12,"editorMode":"ace/mode/markdown","editorHide":true,"results":{},"enabled":true,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}}},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1487764096132_-1326591915","id":"20170222-114756_2108452155","dateCreated":"2017-02-22T11:48:16+0000","dateStarted":"2017-02-22T12:22:55+0000","dateFinished":"2017-02-22T12:22:55+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:3937","result":{"code":"SUCCESS","type":"HTML","msg":"<h2>1 Add the project to python's search path and import JupyterShim</h2>\n"},"focus":true},{"text":"%pyspark\nimport sys\nsys.path += [\"/tmp/zeppelin-ipython-shim\"]\n\nfrom jupytershim import JupyterShim\n","user":"bernhard","dateUpdated":"2017-02-22T12:21:56+0000","config":{"colWidth":12,"editorMode":"ace/mode/python","results":{},"enabled":true,"editorSetting":{"language":"python"},"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}}},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1487764096132_-1326591915","id":"20170222-110000_685570517","dateCreated":"2017-02-22T11:48:16+0000","dateStarted":"2017-02-22T12:21:56+0000","dateFinished":"2017-02-22T12:21:56+0000","status":"FINISHED","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:3938","focus":true},{"text":"%md\n## 2 Initialize Jupytershim","dateUpdated":"2017-02-22T12:22:57+0000","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true},"colWidth":12,"editorMode":"ace/mode/markdown","editorHide":true,"results":{},"enabled":true,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}}},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1487764096132_-1326591915","id":"20170222-114829_709151521","dateCreated":"2017-02-22T11:48:16+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:3939","user":"bernhard","dateFinished":"2017-02-22T12:22:57+0000","dateStarted":"2017-02-22T12:22:57+0000","result":{"code":"SUCCESS","type":"HTML","msg":"<h2>2 Initialize Jupytershim</h2>\n"},"focus":true},{"text":"%pyspark\n\n# uncomment to reset the singleton:\n# JupyterShim.instance = None\n\nwsServer = \"ws://192.168.124.161:9001\"\nj = JupyterShim(wsServer)\n","user":"bernhard","dateUpdated":"2017-02-22T12:22:07+0000","config":{"colWidth":12,"editorMode":"ace/mode/python","results":{},"enabled":true,"editorSetting":{"language":"python"},"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}}},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1487764096132_-1326591915","id":"20170218-215455_1576137953","dateCreated":"2017-02-22T11:48:16+0000","dateStarted":"2017-02-22T12:22:07+0000","dateFinished":"2017-02-22T12:22:07+0000","status":"FINISHED","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:3940","focus":true},{"text":"%md\n### Create first outputs via the publish/communication framework\n\nIt will write a div placeholder and send a message to the javascript part to add HTML text","dateUpdated":"2017-02-22T12:23:01+0000","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true},"colWidth":12,"editorMode":"ace/mode/markdown","editorHide":true,"results":{},"enabled":true,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}}},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1487764096132_-1326591915","id":"20170222-114928_39592684","dateCreated":"2017-02-22T11:48:16+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:3941","user":"bernhard","dateFinished":"2017-02-22T12:23:01+0000","dateStarted":"2017-02-22T12:23:01+0000","result":{"code":"SUCCESS","type":"HTML","msg":"<h3>Create first outputs via the publish/communication framework</h3>\n<p>It will write a div placeholder and send a message to the javascript part to add HTML text</p>\n"},"focus":true},{"text":"%pyspark\nj.publish(\"<b>Nice!</b>\", \"...\")","user":"bernhard","dateUpdated":"2017-02-22T12:22:09+0000","config":{"colWidth":12,"editorMode":"ace/mode/python","results":{},"enabled":true,"editorSetting":{"language":"python"},"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}}},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1487764096132_-1326591915","id":"20170218-224335_565059399","dateCreated":"2017-02-22T11:48:16+0000","dateStarted":"2017-02-22T12:22:09+0000","dateFinished":"2017-02-22T12:22:09+0000","status":"FINISHED","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:3942","focus":true},{"text":"%md\n\nNow just create a placeholder div and fill the placeholder div via some python code in the next paragraph\n","dateUpdated":"2017-02-22T12:23:06+0000","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true},"colWidth":12,"editorMode":"ace/mode/markdown","editorHide":true,"results":{},"enabled":true,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}}},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1487764096132_-1326591915","id":"20170222-115117_841323281","dateCreated":"2017-02-22T11:48:16+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:3943","user":"bernhard","dateFinished":"2017-02-22T12:23:06+0000","dateStarted":"2017-02-22T12:23:06+0000","result":{"code":"SUCCESS","type":"HTML","msg":"<p>Now just create a placeholder div and fill the placeholder div via some python code in the next paragraph</p>\n"},"focus":true},{"text":"%pyspark\nh = j.placeholder()\n","user":"bernhard","dateUpdated":"2017-02-22T12:22:11+0000","config":{"colWidth":12,"editorMode":"ace/mode/python","results":{},"enabled":true,"editorSetting":{"language":"python"},"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}}},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1487764096132_-1326591915","id":"20170221-192318_1898653317","dateCreated":"2017-02-22T11:48:16+0000","dateStarted":"2017-02-22T12:22:11+0000","dateFinished":"2017-02-22T12:22:11+0000","status":"FINISHED","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:3944","focus":true},{"text":"%pyspark\nj.publish(\"<b>Even nicer!</b>\", div_id=h)","user":"bernhard","dateUpdated":"2017-02-22T12:22:13+0000","config":{"colWidth":12,"editorMode":"ace/mode/python","results":{},"enabled":true,"editorSetting":{"language":"python"},"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}}},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1487764096133_-1326976664","id":"20170221-192356_1029713498","dateCreated":"2017-02-22T11:48:16+0000","dateStarted":"2017-02-22T12:22:13+0000","dateFinished":"2017-02-22T12:22:13+0000","status":"FINISHED","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:3945","focus":true},{"text":"%md\n## 2 Load Bokeh and redirect output to Zeppelin","dateUpdated":"2017-02-22T12:23:10+0000","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true},"colWidth":12,"editorMode":"ace/mode/markdown","editorHide":true,"results":{},"enabled":true,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}}},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1487764096133_-1326976664","id":"20170222-115247_163469636","dateCreated":"2017-02-22T11:48:16+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:3946","user":"bernhard","dateFinished":"2017-02-22T12:23:10+0000","dateStarted":"2017-02-22T12:23:10+0000","result":{"code":"SUCCESS","type":"HTML","msg":"<h2>2 Load Bokeh and redirect output to Zeppelin</h2>\n"},"focus":true},{"text":"%pyspark\nfrom bokeh.io import push_notebook, show, output_notebook\nfrom bokeh.layouts import row\nfrom bokeh.resources import Resources\nfrom bokeh.plotting import figure\n\noutput_notebook()\n","user":"bernhard","dateUpdated":"2017-02-22T12:22:23+0000","config":{"colWidth":12,"editorMode":"ace/mode/python","results":{},"enabled":true,"editorSetting":{"language":"python"},"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}}},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1487764096133_-1326976664","id":"20170218-224440_1753132708","dateCreated":"2017-02-22T11:48:16+0000","dateStarted":"2017-02-22T12:22:23+0000","dateFinished":"2017-02-22T12:22:23+0000","status":"FINISHED","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:3947","focus":true},{"title":" Render a first plot","text":"%pyspark\nopts = dict(plot_width=250, plot_height=250, min_border=0)\np1 = figure(**opts)\nr1 = p1.circle([1,2,3], [4,5,6], size=20)\n\np2 = figure(**opts)\nr2 = p2.circle([1,2,3], [4,5,6], size=20)\n\nt = show(row(p1, p2), notebook_handle=True)\n","user":"bernhard","dateUpdated":"2017-02-22T12:22:25+0000","config":{"editorSetting":{"language":"python"},"colWidth":12,"editorMode":"ace/mode/python","title":true,"results":{},"enabled":true,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}}},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1487764096133_-1326976664","id":"20170218-225316_1761670326","dateCreated":"2017-02-22T11:48:16+0000","dateStarted":"2017-02-22T12:22:25+0000","dateFinished":"2017-02-22T12:22:26+0000","status":"FINISHED","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:3948","focus":true},{"title":"And modify it via push_notebook","text":"%pyspark\nr1.glyph.fill_color = \"white\"\nr2.glyph.fill_color = \"red\"\n\npush_notebook(handle=t)\n","user":"bernhard","dateUpdated":"2017-02-22T12:22:28+0000","config":{"editorSetting":{"language":"python"},"colWidth":12,"editorMode":"ace/mode/python","title":true,"results":{},"enabled":true,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}}},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1487764096133_-1326976664","id":"20170219-102152_1345959524","dateCreated":"2017-02-22T11:48:16+0000","dateStarted":"2017-02-22T12:22:28+0000","dateFinished":"2017-02-22T12:22:29+0000","status":"FINISHED","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:3949","focus":true},{"text":"%md\n\n### Finally some multiple plot layouts\n","dateUpdated":"2017-02-22T12:23:14+0000","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true},"colWidth":12,"editorMode":"ace/mode/markdown","editorHide":true,"results":{},"enabled":true,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}}},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1487764096133_-1326976664","id":"20170222-115435_282657857","dateCreated":"2017-02-22T11:48:16+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:3950","user":"bernhard","dateFinished":"2017-02-22T12:23:14+0000","dateStarted":"2017-02-22T12:23:14+0000","result":{"code":"SUCCESS","type":"HTML","msg":"<h3>Finally some multiple plot layouts</h3>\n"},"focus":true},{"text":"%pyspark\nfrom bokeh.io import output_file, show\nfrom bokeh.layouts import column\nfrom bokeh.plotting import figure\n\nx = list(range(11))\ny0 = x\ny1 = [10 - i for i in x]\ny2 = [abs(i - 5) for i in x]\n\n# create a new plot\ns1 = figure(width=250, plot_height=250, title=None)\ns1.circle(x, y0, size=10, color=\"navy\", alpha=0.5)\n\n# create another one\ns2 = figure(width=250, height=250, title=None)\ns2.triangle(x, y1, size=10, color=\"firebrick\", alpha=0.5)\n\n# create and another\ns3 = figure(width=250, height=250, title=None)\ns3.square(x, y2, size=10, color=\"olive\", alpha=0.5)\n\n# put the results in a column and show\nshow(column(s1, s2, s3))\n","user":"bernhard","dateUpdated":"2017-02-22T12:22:31+0000","config":{"colWidth":12,"editorMode":"ace/mode/python","results":{},"enabled":true,"editorSetting":{"language":"python"},"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}}},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1487764096133_-1326976664","id":"20170220-211727_557875734","dateCreated":"2017-02-22T11:48:16+0000","dateStarted":"2017-02-22T12:22:31+0000","dateFinished":"2017-02-22T12:22:32+0000","status":"FINISHED","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:3951","focus":true},{"title":"Try to move the canvas in one plot!","text":"%pyspark\nfrom bokeh.io import output_file, show\nfrom bokeh.layouts import gridplot\nfrom bokeh.plotting import figure\n\nx = list(range(11))\ny0 = x\ny1 = [10-xx for xx in x]\ny2 = [abs(xx-5) for xx in x]\n\n# create a new plot\ns1 = figure(width=250, plot_height=250, title=None)\ns1.circle(x, y0, size=10, color=\"navy\", alpha=0.5)\n\n# create a new plot and share both ranges\ns2 = figure(width=250, height=250, x_range=s1.x_range, y_range=s1.y_range, title=None)\ns2.triangle(x, y1, size=10, color=\"firebrick\", alpha=0.5)\n\n# create a new plot and share only one range\ns3 = figure(width=250, height=250, x_range=s1.x_range, title=None)\ns3.square(x, y2, size=10, color=\"olive\", alpha=0.5)\n\np = gridplot([[s1, s2, s3]], toolbar_location=None)\n\n# show the results\nshow(p)","user":"bernhard","dateUpdated":"2017-02-22T12:22:36+0000","config":{"editorSetting":{"language":"python"},"colWidth":12,"editorMode":"ace/mode/python","title":true,"results":{},"enabled":true,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}}},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1487764096133_-1326976664","id":"20170221-184932_909609162","dateCreated":"2017-02-22T11:48:16+0000","dateStarted":"2017-02-22T12:22:36+0000","dateFinished":"2017-02-22T12:22:36+0000","status":"FINISHED","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:3952","focus":true},{"title":"Try to select points in one plot!","text":"%pyspark\nfrom bokeh.io import output_file, show\nfrom bokeh.layouts import gridplot\nfrom bokeh.models import ColumnDataSource\nfrom bokeh.plotting import figure\n\nx = list(range(-20, 21))\ny0 = [abs(xx) for xx in x]\ny1 = [xx**2 for xx in x]\n\n# create a column data source for the plots to share\nsource = ColumnDataSource(data=dict(x=x, y0=y0, y1=y1))\n\nTOOLS = \"box_select,lasso_select,help\"\n\n# create a new plot and add a renderer\nleft = figure(tools=TOOLS, width=300, height=300, title=None)\nleft.circle('x', 'y0', source=source)\n\n# create another new plot and add a renderer\nright = figure(tools=TOOLS, width=300, height=300, title=None)\nright.circle('x', 'y1', source=source)\n\np = gridplot([[left, right]])\n\nshow(p)","user":"bernhard","dateUpdated":"2017-02-22T12:22:40+0000","config":{"editorSetting":{"language":"python"},"colWidth":12,"editorMode":"ace/mode/python","title":true,"results":{},"enabled":true,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}}},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1487764096133_-1326976664","id":"20170221-185414_472033204","dateCreated":"2017-02-22T11:48:16+0000","dateStarted":"2017-02-22T12:22:40+0000","dateFinished":"2017-02-22T12:22:40+0000","status":"FINISHED","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:3953","focus":true},{"title":"Try to move the slider!","text":"%pyspark\nfrom bokeh.layouts import column\nfrom bokeh.models import CustomJS, ColumnDataSource, Slider\nfrom bokeh.plotting import Figure, output_file, show\n\n\nx = [x*0.005 for x in range(0, 200)]\ny = x\n\nsource = ColumnDataSource(data=dict(x=x, y=y))\n\nplot = Figure(plot_width=400, plot_height=400)\nplot.line('x', 'y', source=source, line_width=3, line_alpha=0.6)\n\ncallback = CustomJS(args=dict(source=source), code=\"\"\"\n    var data = source.data;\n    var f = cb_obj.value\n    x = data['x']\n    y = data['y']\n    for (i = 0; i < x.length; i++) {\n        y[i] = Math.pow(x[i], f)\n    }\n    source.trigger('change');\n\"\"\")\n\nslider = Slider(start=0.1, end=4, value=1, step=.1, title=\"power\")\nslider.js_on_change('value', callback)\n\nlayout = column(slider, plot)\n\nshow(layout)","user":"bernhard","dateUpdated":"2017-02-22T12:10:17+0000","config":{"editorSetting":{"language":"python"},"colWidth":12,"editorMode":"ace/mode/python","title":true,"results":{},"enabled":true,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}}},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1487764096133_-1326976664","id":"20170221-190656_2134476265","dateCreated":"2017-02-22T11:48:16+0000","dateStarted":"2017-02-22T12:10:17+0000","dateFinished":"2017-02-22T12:10:17+0000","status":"FINISHED","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:3954"},{"text":"%pyspark\n","dateUpdated":"2017-02-22T11:48:16+0000","config":{"colWidth":12,"editorMode":"ace/mode/python","results":{},"enabled":true,"editorSetting":{"language":"python"},"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}}},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1487764096133_-1326976664","id":"20170221-202002_1864027574","dateCreated":"2017-02-22T11:48:16+0000","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:3955"}],"name":"JupyterShim Overview","id":"2CAMBU32G","angularObjects":{"2C27DN6PF:shared_process":[],"2C49UH56G:shared_process":[],"2C3ST4TYA:shared_process":[],"2C32ZU7YM:shared_process":[],"2C2E1VYCK:shared_process":[],"2C2V2GJUA:shared_process":[]},"config":{"looknfeel":"default"},"info":{}}